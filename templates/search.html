{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="custom-border-bottom py-3">
    <div class="container">
        <div class="row">
            <div class="col-md-12 mb-0">
                <a href="{% url 'home' %}">Home</a> 
                <span class="mx-2 mb-0">/</span> 
                <strong class="text-black">Search Results</strong>
            </div>
        </div>
    </div>
</div>

<div class="site-section">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-12 order-1">
                <div class="row align" style="height: 10px;">
                    <div class="col-md-12 mb-5">
                        <div class="float-md-left">
                            <h2 class="text-black h5">
                                {% if query %}
                                    Search Results for "{{ query }}" ({{ total_results }} result{{ total_results|pluralize }})
                                {% else %}
                                    Search Results
                                {% endif %}
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% if messages %}
            {% for message in messages %}
                <p style="text-align: center;">{{ message }}</p>
            {% endfor %}
        {% endif %}

        {% if products %}
            {% for product in products %}
                <a href="{% url 'single_product' product.id %}">
                    <div class="shopgrids" style="margin-bottom: 10px;">
                        <div class="shopdetails" style="display: flex;align-items:center;justify-content:center; width:250px">
                            <img src="{{ product.images1.url }}" alt="{{ product.name }}" loading="lazy">
                        </div>
                        <div class="productconduct">
                            <h3 style="font-family: serif;">{{ product.name }}</h3>
                            <div class="product-rating">
                                {% if product.Category.name == "mobile phones" %}
                                    <ul>
                                        <li>RAM/ROM: &nbsp;{{ product.description1 }}</li>
                                        <li>DISPLAY: &nbsp;{{ product.description2 }}</li>
                                        <li>CAMERA: &nbsp;{{ product.description3 }}</li>
                                        <li>BATTERY: &nbsp;{{ product.description4 }}</li>
                                        <li>PROCESSOR: &nbsp;{{ product.description5 }}</li>
                                    </ul>
                                {% else %}
                                    <ul>
                                        <li>&nbsp;{{ product.description1 }}</li>
                                        <li>&nbsp;{{ product.description2 }}</li>
                                        <li>&nbsp;{{ product.description3 }}</li>
                                        <li>&nbsp;{{ product.description4 }}</li>
                                        <li>&nbsp;{{ product.description5 }}</li>
                                    </ul>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </a>
            {% endfor %}
        {% else %}
            <br>
            <p style="text-align: center;">No products found{% if query %} for "{{ query }}"{% endif %}...</p>
            <br><br><br><br><br>
        {% endif %}
    </div>
</div>
{% endblock %} 